<ion-navbar *navbar danger>
  <ion-title>Novo Reembolso</ion-title>
  <ion-buttons end>
    <button royal (click)="saveReport()">
      <ion-icon name="checkmark"></ion-icon>
    </button>
  </ion-buttons>
</ion-navbar>

<ion-content class="new-report">
  <ion-list no-lines>
    <ion-item>
      <ion-icon name="home" item-left></ion-icon>
      <ion-input type="text" placeholder="Cilente" [(ngModel)]="newReport.cliente"></ion-input>
    </ion-item>
    <ion-item>
      <ion-icon name="list-box" item-left></ion-icon>
      <ion-input type="text" placeholder="30" placeholder="Descrição"
        [(ngModel)]="newReport.descricao"></ion-input>
    </ion-item>
    <ion-item>
      <ion-icon name="calendar" item-left></ion-icon>
      <ion-label>Data</ion-label>
      <ion-datetime displayFormat="DD MMM YYYY" [(ngModel)]="newReport.data"></ion-datetime>
    </ion-item>
  </ion-list>

  <ion-item-divider light>Tempo</ion-item-divider>
  <ion-list no-lines>
    <ion-item>
      <ion-icon name="sunny" item-left></ion-icon>
      <ion-label>Chegada</ion-label>
      <ion-datetime displayFormat="HH:mm" pickerFormat="HH mm"
        [(ngModel)]="newReport.horaChegada"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-icon name="moon" item-left></ion-icon>
      <ion-label>Saída</ion-label>
      <ion-datetime displayFormat="HH:mm" pickerFormat="HH mm"
        [(ngModel)]="newReport.horaSaida"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-icon name="beer" item-left></ion-icon>
      <ion-label>Tempo improdutivo</ion-label>
      <ion-datetime displayFormat="HH:mm" pickerFormat="HH mm"
        [(ngModel)]="newReport.tempoImprodutivo"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-icon name="time" item-left></ion-icon>
      <ion-label>Intervalo de espera</ion-label>
      <ion-datetime displayFormat="HH:mm" pickerFormat="HH mm"
        [(ngModel)]="newReport.intervaloEspera"></ion-datetime>
    </ion-item>
  </ion-list>

  <ion-item-divider light>Detalhes da visita</ion-item-divider>

  <ion-list no-lines>
    <ion-item>
      <ion-icon name="text" item-left></ion-icon>
      <ion-textarea placeholder="Detalhe" [(ngModel)]="newReport.detalheVisita"></ion-textarea>
    </ion-item>
  </ion-list>

  <ion-item-divider light>Despesas</ion-item-divider>

  <ion-list no-lines>
    <ion-item>
      <ion-icon name="restaurant" item-left></ion-icon>
      <ion-input type="number" placeholder="Refeição" [(ngModel)]="newReport.refeicao"></ion-input>
    </ion-item>
    <ion-item>
      <ion-icon name="cash" item-left></ion-icon>
      <ion-input type="number" placeholder="Outros Gastos"
        [(ngModel)]="newReport.outrosGastos"></ion-input>
    </ion-item>
    <ion-item>
      <ion-icon name="car" item-left></ion-icon>
      <ion-input type="number" placeholder="Quilometragem (KM)"
        [(ngModel)]="newReport.quilometragem"></ion-input>
    </ion-item>
    <ion-item>
      <ion-icon name="restaurant" item-left></ion-icon>
      <ion-input type="number" placeholder="Pedágio" [(ngModel)]="newReport.pedagio"></ion-input>
    </ion-item>
    <ion-item>
      <ion-icon name="text" item-left></ion-icon>
      <ion-textarea placeholder="Detalhe da despesa" [(ngModel)]="newReport.detalheDespesa"></ion-textarea>
    </ion-item>
    <button ion-item (click)="pickImage()" *ngIf="newReport.image && !newReport.image.data">
      <ion-icon name="camera" item-left></ion-icon>
      <ion-label>Tirar foto da nota</ion-label>
    </button>
    <ion-item *ngIf="newReport.image && newReport.image.data" class="note-image-item">
      <ion-icon name="image" item-left></ion-icon>
      <img src="{{newReport.image.data}}" (click)="openImageActionSheet()" />
    </ion-item>
  </ion-list>
</ion-content>
